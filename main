#include <iostream>
#include <string>
#include <cstdlib> // For the "system" function
#include <unistd.h> // For the "unlink" function on Unix-based systems
#include <windows.h> // For the color-changing functions on Windows

using namespace std;

int main() {
  string input;

  while (true) {
    // Prompt user for input
    cout << ">> ";
    getline(cin, input);

    // Check for commands
    if (input == "clear") {
      // Clear the terminal screen
      system("clear");
    } else if (input == "help") {
      // Display list of available commands and their functions
      cout << "Available commands:\n";
      cout << "  clear - clears the terminal screen\n";
      cout << "  help - displays this help message\n";
      cout << "  systeminfo - displays information about the system\n";
      cout << "  delete <file> - deletes the specified file\n";
    } else if (input == "systeminfo") {
      // Execute shell command to display system information
      int result = system("uname -a");
      if (result != 0) {
        cout << "Error executing command" << endl;
      }
    } else if (input.find("delete") == 0) {
      // Get the file name to delete
      string filename = input.substr(7); // Remove "delete " from the input string
      // Use the "unlink" function to delete the file on Unix-based systems
      int result = unlink(filename.c_str());
      if (result != 0) {
        if (errno == ENOENT) {
          cout << "File does not exist" << endl;
        } else {
          cout << "Error deleting file: " << strerror(errno) << endl;
        }
      } else {
        cout << "File deleted successfully" << endl;
      }
    } else {
      // Output response
      HANDLE hConsole = GetStdHandle(STD_OUTPUT_HANDLE);
      SetConsoleTextAttribute(hConsole, 12); // set color to red
      cout << "I am just a prototype" << endl;
      SetConsoleTextAttribute(hConsole, 15); // reset color to default
    }
  }

  return 0;
}
